<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Calculadora de Jogos (Meta Mensal)</title>
  <style>
    body { font-family: system-ui, Arial, sans-serif; margin: 24px; max-width: 720px; }
    label { display:block; margin-top: 12px; }
    input { width: 100%; padding: 10px; margin-top: 6px; }
    button { margin-top: 16px; padding: 10px 14px; cursor: pointer; }
    .box { margin-top: 16px; padding: 14px; border: 1px solid #ddd; border-radius: 10px; }
    .muted { color:#555; font-size: 0.95rem; }
    .error { color: #b00020; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>Meta mensal → jogos necessários</h1>
  <p class="muted">Preencha os valores e clique em calcular.</p>

  <label>
    Meta mensal (R$)
    <input id="meta" type="number" step="0.01" min="0" placeholder="Ex.: 3000" />
  </label>

<label>
    Valor recebido por jogo (R$)
    <input id="valorPorJogo" type="number" step="0.01" min="0" placeholder="Ex.: 23.99" />
  </label>

  <label>
    Custos fixos do mês (R$) — opcional
    <input id="custosFixos" type="number" step="0.01" min="0" value="0" />
  </label>

  <label>
    Custo por jogo (R$) — opcional (combustível, taxa, etc.)
    <input id="custoPorJogo" type="number" step="0.01" min="0" value="0" />
  </label>

  <label>
    Semanas no mês — opcional
    <input id="semanasNoMes" type="number" step="0.001" min="1" value="4.345" />
  </label>

  <label>
    Dias trabalhados por semana — opcional
    <input id="diasPorSemana" type="number" step="1" min="1" max="7" value="6" />
  </label>
  <button id="btn">Calcular</button>

  <div id="msg" class="error"></div>

  <div id="out" class="box" style="display:none;"></div>

  <script>
    function moedaBR(valor) {
      return valor.toLocaleString("pt-BR", { style: "currency", currency: "BRL" });
    }

    function calcular({ metaMensal, valorPorJogo, custosFixos, custoPorJogo, semanasNoMes, diasPorSemana }) {
      const lucroPorJogo = valorPorJogo - custoPorJogo;

      if (metaMensal < 0 || valorPorJogo < 0 || custosFixos < 0 || custoPorJogo < 0) {
        throw new Error("Nenhum valor pode ser negativo.");
      }
      if (lucroPorJogo <= 0) {
        throw new Error("O lucro por jogo precisa ser maior que zero (valor por jogo > custo por jogo).");
      }
      if (semanasNoMes <= 0) {
        throw new Error("Semanas no mês precisa ser maior que zero.");
      }
      if (diasPorSemana <= 0 || diasPorSemana > 7) {
        throw new Error("Dias por semana precisa estar entre 1 e 7.");
      }
